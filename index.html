<!DOCTYPE HTML>
<html>
<head>
  <meta charset="UTF-8">
  <title>Main</title>
  <link rel="stylesheet" href="style.css">
  <script src="elm.js"></script>
</head>

<body>
<div id="elm"></div>
<script>
  var tasks = JSON.parse(localStorage.getItem('elm-todo-tasks')) || [];
  var app = Elm.Main.init({
    node: document.getElementById('elm'),
    flags: {tasks : tasks}
  });


  app.ports.storeTasks.subscribe(function (tasks) {
      localStorage.setItem('elm-todo-tasks', JSON.stringify(tasks));
  });

</script>
</body>
</html>